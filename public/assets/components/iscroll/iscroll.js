/*!
 * iScroll v4.1.9 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(){var e=Math,t=function(e){return e>>0},n=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",r="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,i="ontouchstart"in window,s=n+"Transform"in document.documentElement.style,o=/android/gi.test(navigator.appVersion),u=/iphone|ipad/gi.test(navigator.appVersion),a=/playbook/gi.test(navigator.appVersion),f=u||a,l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),c=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),h="onorientationchange"in window?"orientationchange":"resize",p=i?"touchstart":"mousedown",d=i?"touchmove":"mousemove",v=i?"touchend":"mouseup",m=i?"touchcancel":"mouseup",g=n=="Moz"?"DOMMouseScroll":"mousewheel",y="translate"+(r?"3d(":"("),b=r?",0)":")",w=function(e,t){var a=this,l=document,c;a.wrapper=typeof e=="object"?e:l.getElementById(e),a.wrapper.style.overflow="hidden",a.scroller=a.wrapper.children[0],a.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:o,hideScrollbar:u,fadeScrollbar:u&&r,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null},a.zoom&&o&&(y="translate(",b=")");for(c in t)a.options[c]=t[c];a.x=a.options.x,a.y=a.options.y,a.options.useTransform=s?a.options.useTransform:!1,a.options.hScrollbar=a.options.hScroll&&a.options.hScrollbar,a.options.vScrollbar=a.options.vScroll&&a.options.vScrollbar,a.options.zoom=a.options.useTransform&&a.options.zoom,a.options.useTransition=f&&a.options.useTransition,a.scroller.style[n+"TransitionProperty"]=a.options.useTransform?"-"+n.toLowerCase()+"-transform":"top left",a.scroller.style[n+"TransitionDuration"]="0",a.scroller.style[n+"TransformOrigin"]="0 0",a.options.useTransition&&(a.scroller.style[n+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),a.options.useTransform?a.scroller.style[n+"Transform"]=y+a.x+"px,"+a.y+"px"+b:a.scroller.style.cssText+=";position:absolute;top:"+a.y+"px;left:"+a.x+"px",a.options.useTransition&&(a.options.fixedScrollbar=!0),a.refresh(),a._bind(h,window),a._bind(p),i||(a._bind("mouseout",a.wrapper),a._bind(g)),a.options.checkDOMChanges&&(a.checkDOMTime=setInterval(function(){a._checkDOMChanges()},500))};w.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case p:if(!i&&e.button!==0)return;t._start(e);break;case d:t._move(e);break;case v:case m:t._end(e);break;case h:t._resize();break;case g:t._wheel(e);break;case"mouseout":t._mouseout(e);break;case"webkitTransitionEnd":t._transitionEnd(e)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(r){var i=this,o=document,u;if(!i[r+"Scrollbar"]){i[r+"ScrollbarWrapper"]&&(s&&(i[r+"ScrollbarIndicator"].style[n+"Transform"]=""),i[r+"ScrollbarWrapper"].parentNode.removeChild(i[r+"ScrollbarWrapper"]),i[r+"ScrollbarWrapper"]=null,i[r+"ScrollbarIndicator"]=null);return}i[r+"ScrollbarWrapper"]||(u=o.createElement("div"),i.options.scrollbarClass?u.className=i.options.scrollbarClass+r.toUpperCase():u.style.cssText="position:absolute;z-index:100;"+(r=="h"?"height:7px;bottom:1px;left:2px;right:"+(i.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(i.hScrollbar?"7":"2")+"px;top:2px;right:1px"),u.style.cssText+=";pointer-events:none;-"+n+"-transition-property:opacity;-"+n+"-transition-duration:"+(i.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(i.options.hideScrollbar?"0":"1"),i.wrapper.appendChild(u),i[r+"ScrollbarWrapper"]=u,u=o.createElement("div"),i.options.scrollbarClass||(u.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+n+"-background-clip:padding-box;-"+n+"-box-sizing:border-box;"+(r=="h"?"height:100%":"width:100%")+";-"+n+"-border-radius:3px;border-radius:3px"),u.style.cssText+=";pointer-events:none;-"+n+"-transition-property:-"+n+"-transform;-"+n+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+n+"-transition-duration:0;-"+n+"-transform:"+y+"0,0"+b,i.options.useTransition&&(u.style.cssText+=";-"+n+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),i[r+"ScrollbarWrapper"].appendChild(u),i[r+"ScrollbarIndicator"]=u),r=="h"?(i.hScrollbarSize=i.hScrollbarWrapper.clientWidth,i.hScrollbarIndicatorSize=e.max(t(i.hScrollbarSize*i.hScrollbarSize/i.scrollerW),8),i.hScrollbarIndicator.style.width=i.hScrollbarIndicatorSize+"px",i.hScrollbarMaxScroll=i.hScrollbarSize-i.hScrollbarIndicatorSize,i.hScrollbarProp=i.hScrollbarMaxScroll/i.maxScrollX):(i.vScrollbarSize=i.vScrollbarWrapper.clientHeight,i.vScrollbarIndicatorSize=e.max(t(i.vScrollbarSize*i.vScrollbarSize/i.scrollerH),8),i.vScrollbarIndicator.style.height=i.vScrollbarIndicatorSize+"px",i.vScrollbarMaxScroll=i.vScrollbarSize-i.vScrollbarIndicatorSize,i.vScrollbarProp=i.vScrollbarMaxScroll/i.maxScrollY),i._scrollbarPos(r,!0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},o?200:0)},_pos:function(e,r){e=this.hScroll?e:0,r=this.vScroll?r:0,this.options.useTransform?this.scroller.style[n+"Transform"]=y+e+"px,"+r+"px"+b+" scale("+this.scale+")":(e=t(e),r=t(r),this.scroller.style.left=e+"px",this.scroller.style.top=r+"px"),this.x=e,this.y=r,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,r){var i=this,s=e=="h"?i.x:i.y,o;if(!i[e+"Scrollbar"])return;s=i[e+"ScrollbarProp"]*s,s<0?(i.options.fixedScrollbar||(o=i[e+"ScrollbarIndicatorSize"]+t(s*3),o<8&&(o=8),i[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=o+"px"),s=0):s>i[e+"ScrollbarMaxScroll"]&&(i.options.fixedScrollbar?s=i[e+"ScrollbarMaxScroll"]:(o=i[e+"ScrollbarIndicatorSize"]-t((s-i[e+"ScrollbarMaxScroll"])*3),o<8&&(o=8),i[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=o+"px",s=i[e+"ScrollbarMaxScroll"]+(i[e+"ScrollbarIndicatorSize"]-o))),i[e+"ScrollbarWrapper"].style[n+"TransitionDelay"]="0",i[e+"ScrollbarWrapper"].style.opacity=r&&i.options.hideScrollbar?"0":"1",i[e+"ScrollbarIndicator"].style[n+"Transform"]=y+(e=="h"?s+"px,0":"0,"+s+"px")+b},_start:function(t){var r=this,s=i?t.touches[0]:t,o,u,a,f,l;if(!r.enabled)return;r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&i&&t.touches.length>1&&(f=e.abs(t.touches[0].pageX-t.touches[1].pageX),l=e.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDistStart=e.sqrt(f*f+l*l),r.originX=e.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x,r.originY=e.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,t));if(r.options.momentum){r.options.useTransform?(o=getComputedStyle(r.scroller,null)[n+"Transform"].replace(/[^0-9-.,]/g,"").split(","),u=o[4]*1,a=o[5]*1):(u=getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,"")*1,a=getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")*1);if(u!=r.x||a!=r.y)r.options.useTransition?r._unbind("webkitTransitionEnd"):c(r.aniTime),r.steps=[],r._pos(u,a)}r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=s.pageX,r.pointY=s.pageY,r.startTime=t.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,t),r._bind(d),r._bind(v),r._bind(m)},_move:function(t){var r=this,s=i?t.touches[0]:t,o=s.pageX-r.pointX,u=s.pageY-r.pointY,a=r.x+o,f=r.y+u,l,c,h,p=t.timeStamp||Date.now();r.options.onBeforeScrollMove&&r.options.onBeforeScrollMove.call(r,t);if(r.options.zoom&&i&&t.touches.length>1){l=e.abs(t.touches[0].pageX-t.touches[1].pageX),c=e.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDist=e.sqrt(l*l+c*c),r.zoomed=!0,h=1/r.touchesDistStart*r.touchesDist*this.scale,h<r.options.zoomMin?h=.5*r.options.zoomMin*Math.pow(2,h/r.options.zoomMin):h>r.options.zoomMax&&(h=2*r.options.zoomMax*Math.pow(.5,r.options.zoomMax/h)),r.lastScale=h/this.scale,a=this.originX-this.originX*r.lastScale+this.x,f=this.originY-this.originY*r.lastScale+this.y,this.scroller.style[n+"Transform"]=y+a+"px,"+f+"px"+b+" scale("+h+")",r.options.onZoom&&r.options.onZoom.call(r,t);return}r.pointX=s.pageX,r.pointY=s.pageY;if(a>0||a<r.maxScrollX)a=r.options.bounce?r.x+o/2:a>=0||r.maxScrollX>=0?0:r.maxScrollX;if(f>r.minScrollY||f<r.maxScrollY)f=r.options.bounce?r.y+u/2:f>=r.minScrollY||r.maxScrollY>=0?r.minScrollY:r.maxScrollY;if(r.absDistX<6&&r.absDistY<6){r.distX+=o,r.distY+=u,r.absDistX=e.abs(r.distX),r.absDistY=e.abs(r.distY);return}r.options.lockDirection&&(r.absDistX>r.absDistY+5?(f=r.y,u=0):r.absDistY>r.absDistX+5&&(a=r.x,o=0)),r.moved=!0,r._pos(a,f),r.dirX=o>0?-1:o<0?1:0,r.dirY=u>0?-1:u<0?1:0,p-r.startTime>300&&(r.startTime=p,r.startX=r.x,r.startY=r.y),r.options.onScrollMove&&r.options.onScrollMove.call(r,t)},_end:function(r){if(i&&r.touches.length!=0)return;var s=this,o=i?r.changedTouches[0]:r,u,a,f={dist:0,time:0},l={dist:0,time:0},c=(r.timeStamp||Date.now())-s.startTime,h=s.x,p=s.y,g,w,E,S,x;s._unbind(d),s._unbind(v),s._unbind(m),s.options.onBeforeScrollEnd&&s.options.onBeforeScrollEnd.call(s,r);if(s.zoomed){x=s.scale*s.lastScale,x=Math.max(s.options.zoomMin,x),x=Math.min(s.options.zoomMax,x),s.lastScale=x/s.scale,s.scale=x,s.x=s.originX-s.originX*s.lastScale+s.x,s.y=s.originY-s.originY*s.lastScale+s.y,s.scroller.style[n+"TransitionDuration"]="200ms",s.scroller.style[n+"Transform"]=y+s.x+"px,"+s.y+"px"+b+" scale("+s.scale+")",s.zoomed=!1,s.refresh(),s.options.onZoomEnd&&s.options.onZoomEnd.call(s,r);return}if(!s.moved){i&&(s.doubleTapTimer&&s.options.zoom?(clearTimeout(s.doubleTapTimer),s.doubleTapTimer=null,s.options.onZoomStart&&s.options.onZoomStart.call(s,r),s.zoom(s.pointX,s.pointY,s.scale==1?s.options.doubleTapZoom:1),s.options.onZoomEnd&&setTimeout(function(){s.options.onZoomEnd.call(s,r)},200)):s.doubleTapTimer=setTimeout(function(){s.doubleTapTimer=null,u=o.target;while(u.nodeType!=1)u=u.parentNode;u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"&&(a=document.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,r.view,1,o.screenX,o.screenY,o.clientX,o.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),a._fake=!0,u.dispatchEvent(a))},s.options.zoom?250:0)),s._resetPos(200),s.options.onTouchEnd&&s.options.onTouchEnd.call(s,r);return}if(c<300&&s.options.momentum){f=h?s._momentum(h-s.startX,c,-s.x,s.scrollerW-s.wrapperW+s.x,s.options.bounce?s.wrapperW:0):f,l=p?s._momentum(p-s.startY,c,-s.y,s.maxScrollY<0?s.scrollerH-s.wrapperH+s.y-s.minScrollY:0,s.options.bounce?s.wrapperH:0):l,h=s.x+f.dist,p=s.y+l.dist;if(s.x>0&&h>0||s.x<s.maxScrollX&&h<s.maxScrollX)f={dist:0,time:0};if(s.y>s.minScrollY&&p>s.minScrollY||s.y<s.maxScrollY&&p<s.maxScrollY)l={dist:0,time:0}}if(f.dist||l.dist){E=e.max(e.max(f.time,l.time),10),s.options.snap&&(g=h-s.absStartX,w=p-s.absStartY,e.abs(g)<s.options.snapThreshold&&e.abs(w)<s.options.snapThreshold?s.scrollTo(s.absStartX,s.absStartY,200):(S=s._snap(h,p),h=S.x,p=S.y,E=e.max(S.time,E))),s.scrollTo(t(h),t(p),E),s.options.onTouchEnd&&s.options.onTouchEnd.call(s,r);return}if(s.options.snap){g=h-s.absStartX,w=p-s.absStartY,e.abs(g)<s.options.snapThreshold&&e.abs(w)<s.options.snapThreshold?s.scrollTo(s.absStartX,s.absStartY,200):(S=s._snap(s.x,s.y),(S.x!=s.x||S.y!=s.y)&&s.scrollTo(S.x,S.y,S.time)),s.options.onTouchEnd&&s.options.onTouchEnd.call(s,r);return}s._resetPos(200),s.options.onTouchEnd&&s.options.onTouchEnd.call(s,r)},_resetPos:function(e){var t=this,r=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,i=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(r==t.x&&i==t.y){t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&(n=="webkit"&&(t.hScrollbarWrapper.style[n+"TransitionDelay"]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&(n=="webkit"&&(t.vScrollbarWrapper.style[n+"TransitionDelay"]="300ms"),t.vScrollbarWrapper.style.opacity="0");return}t.scrollTo(r,i,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;"wheelDeltaX"in e?(n=e.wheelDeltaX/12,r=e.wheelDeltaY/12):"detail"in e?n=r=-e.detail*3:n=r=-e.wheelDelta;if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),o<t.options.zoomMin&&(o=t.options.zoomMin),o>t.options.zoomMax&&(o=t.options.zoomMax),o!=t.scale&&(!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,e),t.wheelZoomCount++,t.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){t.wheelZoomCount--,!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,e)},400));return}i=t.x+n,s=t.y+r,i>0?i=0:i<t.maxScrollX&&(i=t.maxScrollX),s>t.minScrollY?s=t.minScrollY:s<t.maxScrollY&&(s=t.maxScrollY),t.scrollTo(i,s,0)},_mouseout:function(e){var t=e.relatedTarget;if(!t){this._end(e);return}while(t=t.parentNode)if(t==this.wrapper)return;this._end(e)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind("webkitTransitionEnd"),t._startAni()},_startAni:function(){var t=this,n=t.x,r=t.y,i=Date.now(),s,o,u;if(t.animating)return;if(!t.steps.length){t._resetPos(400);return}s=t.steps.shift(),s.x==n&&s.y==r&&(s.time=0),t.animating=!0,t.moved=!0;if(t.options.useTransition){t._transitionTime(s.time),t._pos(s.x,s.y),t.animating=!1,s.time?t._bind("webkitTransitionEnd"):t._resetPos(0);return}u=function(){var a=Date.now(),f,c;if(a>=i+s.time){t._pos(s.x,s.y),t.animating=!1,t.options.onAnimationEnd&&t.options.onAnimationEnd.call(t),t._startAni();return}a=(a-i)/s.time-1,o=e.sqrt(1-a*a),f=(s.x-n)*o+n,c=(s.y-r)*o+r,t._pos(f,c),t.animating&&(t.aniTime=l(u))},u()},_transitionTime:function(e){e+="ms",this.scroller.style[n+"TransitionDuration"]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[n+"TransitionDuration"]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[n+"TransitionDuration"]=e)},_momentum:function(n,r,i,s,o){var u=6e-4,a=e.abs(n)/r,f=a*a/(2*u),l=0,c=0;return n>0&&f>i?(c=o/(6/(f/a*u)),i+=c,a=a*i/f,f=i):n<0&&f>s&&(c=o/(6/(f/a*u)),s+=c,a=a*s/f,f=s),f*=n<0?-1:1,l=a/u,{dist:f,time:t(l)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,n*=this.scale),{left:t,top:n}},_snap:function(n,r){var i=this,s,o,u,a,f,l;u=i.pagesX.length-1;for(s=0,o=i.pagesX.length;s<o;s++)if(n>=i.pagesX[s]){u=s;break}u==i.currPageX&&u>0&&i.dirX<0&&u--,n=i.pagesX[u],f=e.abs(n-i.pagesX[i.currPageX]),f=f?e.abs(i.x-n)/f*500:0,i.currPageX=u,u=i.pagesY.length-1;for(s=0;s<u;s++)if(r>=i.pagesY[s]){u=s;break}return u==i.currPageY&&u>0&&i.dirY<0&&u--,r=i.pagesY[u],l=e.abs(r-i.pagesY[i.currPageY]),l=l?e.abs(i.y-r)/l*500:0,i.currPageY=u,a=t(e.max(f,l))||200,{x:n,y:r,time:a}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var e=this;e.scroller.style[n+"Transform"]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(h,window),e._unbind(p),e._unbind(d),e._unbind(v),e._unbind(m),e.options.hasTouch&&(e._unbind("mouseout",e.wrapper),e._unbind(g)),e.options.useTransition&&e._unbind("webkitTransitionEnd"),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var e=this,r,i,s,o,u=0,a=0;e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin),e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=t(e.scroller.offsetWidth*e.scale),e.scrollerH=t((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),e.hScrollbar=e.hScroll&&e.options.hScrollbar,e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH,r=e._offset(e.wrapper),e.wrapperOffsetLeft=-r.left,e.wrapperOffsetTop=-r.top;if(typeof e.options.snap=="string"){e.pagesX=[],e.pagesY=[],o=e.scroller.querySelectorAll(e.options.snap);for(i=0,s=o.length;i<s;i++)u=e._offset(o[i]),u.left+=e.wrapperOffsetLeft,u.top+=e.wrapperOffsetTop,e.pagesX[i]=u.left<e.maxScrollX?e.maxScrollX:u.left*e.scale,e.pagesY[i]=u.top<e.maxScrollY?e.maxScrollY:u.top*e.scale}else if(e.options.snap){e.pagesX=[];while(u>=e.maxScrollX)e.pagesX[a]=u,u-=e.wrapperW,a++;e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]),u=0,a=0,e.pagesY=[];while(u>=e.maxScrollY)e.pagesY[a]=u,u-=e.wrapperH,a++;e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h"),e._scrollbar("v"),e.zoomed||(e.scroller.style[n+"TransitionDuration"]="0",e._resetPos(200))},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop(),s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++)s[o].relative&&(s[o].x=i.x-s[o].x,s[o].y=i.y-s[o].y),i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});i._startAni()},scrollToElement:function(t,n){var r=this,i;t=t.nodeType?t:r.scroller.querySelector(t);if(!t)return;i=r._offset(t),i.left+=r.wrapperOffsetLeft,i.top+=r.wrapperOffsetTop,i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left,i.top=i.top>r.minScrollY?r.minScrollY:i.top<r.maxScrollY?r.maxScrollY:i.top,n=n===undefined?e.max(e.abs(i.left)*2,e.abs(i.top)*2):n,r.scrollTo(i.left,i.top,n)},scrollToPage:function(e,t,n){var r=this,i,s;r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e,t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t,e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e,t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=e,r.currPageY=t,i=r.pagesX[e],s=r.pagesY[t]):(i=-r.wrapperW*e,s=-r.wrapperH*t,i<r.maxScrollX&&(i=r.maxScrollX),s<r.maxScrollY&&(s=r.maxScrollY)),r.scrollTo(i,s,n||400)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(d),this._unbind(v),this._unbind(m)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):c(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,r,i){var s=this,o=r/s.scale;if(!s.options.useTransform)return;s.zoomed=!0,i=i===undefined?200:i,e=e-s.wrapperOffsetLeft-s.x,t=t-s.wrapperOffsetTop-s.y,s.x=e-e*o+s.x,s.y=t-t*o+s.y,s.scale=r,s.refresh(),s.x=s.x>0?0:s.x<s.maxScrollX?s.maxScrollX:s.x,s.y=s.y>s.minScrollY?s.minScrollY:s.y<s.maxScrollY?s.maxScrollY:s.y,s.scroller.style[n+"TransitionDuration"]=i+"ms",s.scroller.style[n+"Transform"]=y+s.x+"px,"+s.y+"px"+b+" scale("+r+")",s.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},typeof exports!="undefined"?exports.iScroll=w:window.iScroll=w})();